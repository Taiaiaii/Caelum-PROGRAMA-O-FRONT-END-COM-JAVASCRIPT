<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ajax </title>
</head>

<body>
    <h1>AJAX com API Fetch</h1>
    <button id="btnCarregar"> Carregar </button>
    <div class="conteudo">

    </div>
    <script>
        const btnCarregar = document.querySelector('#btnCarregar');
        const divConteudo = document.querySelector('.conteudo');

        btnCarregar.addEventListener('click', function () {
            btnCarregar.disabled = true; // nao permitir varios cliques
            btnCarregar.textContent = 'carregando'

            fetch('02-dom.html').then(function (resposta) {
                    return resposta.text();
                })
                .then(function (stringHtmlCarregada) {
                    divConteudo.innerHTML = stringHtmlCarregada;

                })
                .catch(function (erro) {
                    console.error(erro)
                    divConteudo.textContent = 'erro ao carregar infos'
                })
                .finally(function () {
                    btnCarregar.disabled = false;
                    btnCarregar.textContent = 'Carregar';
                })
        });
    </script>
</body>

</html>